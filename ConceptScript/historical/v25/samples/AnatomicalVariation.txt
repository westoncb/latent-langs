CONCEPT AnatomicalVariation {
  IMPORTS {
    ShapeSpace
  }

  LANGUAGE {
    TYPE AnatomicalStructure <: Shape
    TYPE Subject
    TYPE Population = List[Subject]
    TYPE Pathology

    FUNC Anatomy(s : Subject) : AnatomicalStructure
    FUNC HasPathology(s : Subject) : ùîπ
    FUNC PathologyType(s : Subject) : Pathology

    PRED NormalAnatomy(A : AnatomicalStructure) : ùîπ
    PRED PathologicalAnatomy(A : AnatomicalStructure, P : Pathology) : ùîπ

    AXIOM AnatomicalVariability :
      ‚àÄ (P : Population) .
        ‚àÉ (Œµ : R^>0) .
          ‚àÄ (s t : Subject) . s,t ‚àà P ‚àß ¬¨HasPathology(s) ‚àß ¬¨HasPathology(t)
            ‚áí Anatomy(s) ‚âÉ[Œµ] Anatomy(t)

    AXIOM PathologicalDeviation :
      ‚àÄ (P : Pathology) (Œµ : R^>0) .
        ‚àÉ (Œ¥ : R^>0) .
          ‚àÄ (s t : Subject) .
            HasPathology(s) ‚àß PathologyType(s) = P ‚àß ¬¨HasPathology(t)
              ‚áí ¬¨(Anatomy(s) ‚âÉ[Œµ] Anatomy(t)) ‚àß Anatomy(s) ‚âÉ[Œµ+Œ¥] Anatomy(t)
  }

  STRUCTURE NormalVariation {
    DEF NormalShapeSpace(P : Population) : SubSpace(ShapeSpace) =
      {Anatomy(s) | s ‚àà P ‚àß ¬¨HasPathology(s)}
  }

  STRUCTURE PathologicalVariation {
    DEF PathologicalShapeSpace(P : Population, Q : Pathology) : SubSpace(ShapeSpace) =
      {Anatomy(s) | s ‚àà P ‚àß HasPathology(s) ‚àß PathologyType(s) = Q}

    REQUIRE ‚àÄ (P : Population) (Q : Pathology) .
      Separable(NormalShapeSpace(P), PathologicalShapeSpace(P, Q))
  }

  PROOFS {
    THEOREM NormalVariationBounded {
      STATEMENT:
        ‚àÄ (P : Population) .
          ‚àÉ (Œµ : R^>0) .
            ‚àÄ (A B : AnatomicalStructure) . A,B ‚àà NormalShapeSpace(P)
              ‚áí A ‚âÉ[Œµ] B

      PROOF:
        BY AnatomicalVariability
    }

    THEOREM PathologicalDeviationDetectable {
      STATEMENT:
        ‚àÄ (P : Population) (Q : Pathology) (Œµ : R^>0) .
          ‚àÉ (Œ¥ : R^>0) .
            ‚àÄ (A : AnatomicalStructure) (B : AnatomicalStructure) .
              A ‚àà NormalShapeSpace(P) ‚àß B ‚àà PathologicalShapeSpace(P, Q)
                ‚áí ¬¨(A ‚âÉ[Œµ] B) ‚àß A ‚âÉ[Œµ+Œ¥] B

      PROOF:
        BY PathologicalDeviation
    }

    THEOREM PathologyClassification {
      STATEMENT:
        ‚àÄ (P : Population) (Q : Pathology) (A : AnatomicalStructure) .
          A ‚àà PathologicalShapeSpace(P, Q)
            ‚áî PathologicalAnatomy(A, Q)

      PROOF:
        (‚áí) BY definition of PathologicalShapeSpace
        (‚áê) ASSUME PathologicalAnatomy(A, Q)
            LET s : Subject SUCH THAT Anatomy(s) = A
            ARGUE HasPathology(s) ‚àß PathologyType(s) = Q
              USING PathologicalAnatomy(A, Q)
            HENCE A ‚àà PathologicalShapeSpace(P, Q)
    }
  }
}

In this Concept, we're applying the ShapeSpace framework to study anatomical variation within a population. The key ideas are:

We introduce types for AnatomicalStructure (a subtype of Shape), Subject, Population, and Pathology.
The Anatomy function maps a Subject to their AnatomicalStructure. The HasPathology and PathologyType functions provide information about a Subject's pathological status.
The NormalAnatomy and PathologicalAnatomy predicates characterize normal and pathological anatomical structures.
The AnatomicalVariability axiom states that within a healthy population, anatomical structures are Œµ-homotopic for some Œµ.
The PathologicalDeviation axiom states that pathological structures are distinguishable from normal ones, but still (Œµ+Œ¥)-homotopic for some Œ¥.
We define NormalShapeSpace and PathologicalShapeSpace as subspaces of ShapeSpace corresponding to normal and pathological anatomies.
The NormalVariationBounded theorem says normal variation is bounded. The PathologicalDeviationDetectable theorem says pathologies are detectable by the ShapeSpace metric. The PathologyClassification theorem relates the PathologicalAnatomy predicate to membership in PathologicalShapeSpace.